(function(n,F,r){this.Scrmr=this.Scrmr||{base:"//peaceful-oasis-5931.herokuapp.com",css:"/css/scrmr.css",hand:"/img/hand.png",boo:"/img/scrmr.png",m4a:"/snd/scrmr.m4a",mp3:"/snd/scrmr.mp3",ogg:"/snd/scrmr.ogg",e:null,trigger:null,triggers:[]};Scrmr.url=function(d){return this.base+this[d]};Scrmr.ltIE9=(function(){var d=document.createElement("div");d.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->";return(d.getElementsByTagName("i").length===1)}());Scrmr.getTriggers=function(d){this.e=d;this.triggers.push({value:"click",text:"ClIcK"});this.triggers.push({value:"mouseover",text:"HoVeR"});this.triggers.push({value:"scroll",text:"ScRolL"});this.triggers.push({value:"timer",text:"1 MIN."});switch(this.e.tagName.toLowerCase()){case"input":case"textarea":this.triggers.push({value:"keydown",text:"KeYs"});break;default:break}};var k=F.createElement("link"),h='<img draggable="false" src="'+Scrmr.url("hand")+'" class="scrmr-vanish"/><div id="scrmr-drag" draggable="true" class="scrmr-vanish"></div><label id="i"><b>I</b>DrAg DoWn</label><label id="ii" class="scrmr-clickable scrmr-disabled"><b>II</b><select id="trigger" disabled="true"><option style="visibility:hidden;">?????</option></select></label><label id="iii" class="scrmr-clickable scrmr-disabled"><b>III</b>Pr0fIt!</label><div id="scrmr-handle"></div>',J='<audio preload="auto"><source src="'+Scrmr.url("m4a")+'" type="audio/m4a" /><source src="'+Scrmr.url("mp3")+'" type="audio/mp3" /><source src="'+Scrmr.url("ogg")+'" type="audio/ogg"/></audio>',o=F.body,z=F.createElement("div"),m=F.createElement("div"),p,G,b,D,s,x,A,K,v={dropTargets:null,dragElement:null,ondrag:null,ondragend:null,ondrop:null},y=function(){m.innerHTML=h;m.id="scrmr";m.className="scrmr-hidden";k.href=Scrmr.url("css");k.rel="stylesheet";m.appendChild(k);o.appendChild(m);z.innerHTML=J;z.id="boo";o.appendChild(z);G=c("#scrmr-handle");b=c("#scrmr-drag");D=c("#i");s=c("#ii");x=c("#iii");m=c("#scrmr");A=c("#trigger");K=c("#boo audio")[0];p=c("#scrmr img")[0];p.draggable=false;p.unselectable=true;l(p,"dragstart",function(i){i=i||n.event;if(i.preventDefault){i.preventDefault()}return false});l(G,"click",function(){C(m,"scrmr-hidden")});l(A,"change",function(i){C(x,"scrmr-disabled","off");Scrmr.trigger=A[0].value});l(K,"ended",function(u){I(K,"ended");o.removeChild(m[0]);z.removeChild(K);o.removeChild(z);Scrmr=r;var i=c("head script[src*=scrmr]")[0];c("head")[0].removeChild(i)});l(x,"click",function(){if(Scrmr.e&&Scrmr.trigger){C(s,"scrmr-done");C(x,"scrmr-done");I(x,"click");A[0].disabled=true;switch(Scrmr.trigger){case"timer":setTimeout(function(){d()},60*1000);break;case"scroll":l(F,"scroll",function(){I(F,"scroll");d()});l(Scrmr.e,"scroll",function(){I(Scrmr.e,"scroll");d()});break;default:l(Scrmr.e,Scrmr.trigger,function(i){i=i||n.event;if(i.preventDefault){i.preventDefault()}I(Scrmr.e,Scrmr.trigger);d();return false})}setTimeout(function(){C(m,"scrmr-hidden");setTimeout(function(){m[0].style.display="none"},400)},200)}});function d(){z.style.display="block";K.play()}q(b[0],{ondrag:function(i){if(!v.moved){C(m,"scrmr-hidden");v.moved=true}},ondragend:function(i){C(m,"scrmr-hidden");C(D,"scrmr-done");C(s,"scrmr-disabled");C(v.dropTargets,"scrmr-over","off")},ondrop:function(i){Scrmr.getTriggers(i.target||i.srcElement);Scrmr.triggers.forEach(function(u){var w=F.createElement("option");w.value=u.value;w.innerHTML=u.text;A[0].appendChild(w)});A[0].disabled=false}});setTimeout(function(){C(m,"scrmr-hidden")},500)};function c(d){return F.querySelectorAll(d)}function l(u,i,d){B(u,a,[i,d,true])}function I(u,i,d){B(u,a,[i,d])}function C(i,d,u){B(i,j,[d,u])}function B(L,M,u){if(L.length){for(var w=0,d=L.length;w<d;w++){u.unshift(L[w]);M.apply(this,u);u.shift()}}else{u.unshift(L);M.apply(this,u)}}function j(M,i,w){var u=M.className,N=u.replace(i,""),d=N+" "+i,L=u===N?d:N;M.className=w===r?L:w==="on"?d:N}function a(L,u,i,w){var d=(w?"add":"remove")+"EventListener",M=(w?"at":"de")+"tachEvent";if(L[d]){L[d](u,i,false)}else{if(L[M]){L[M]("on"+u,i)}else{L["on"+u]=w?i:null}}}function q(i,d){v.dragElement=i;v.dropTargets=c("*:not(#scrmr");v.ondrag=d.ondrag;v.ondragend=d.ondragend;v.ondrop=d.ondrop;l(v.dragElement,"dragstart",H);l(v.dragElement,"drag",g);l(v.dragElement,"dragend",f);l(v.dropTargets,"dragover",t);l(v.dropTargets,"dragenter",e);l(v.dropTargets,"dragleave",e);l(v.dropTargets,"drop",E)}function H(d){d=d||n.event;this.style.opacity=0;d.dataTransfer.setData("stupidMozilla",this);d.dataTransfer.effectAllowed="move"}function g(d){d=d||n.event;if(typeof v.ondrag==="function"){v.ondrag(d)}}function f(d){d=d||n.event;I(v.dropTargets,"dragover",t);I(v.dropTargets,"dragenter",e);I(v.dropTargets,"dragleave",e);if(typeof v.ondragend==="function"){v.ondragend(d)}}function E(d){d=d||n.event;if(!v.inDrop&&typeof v.ondrop==="function"){v.inDrop=true;v.ondrop(d)}}function t(d){if(d.preventDefault){d.preventDefault()}d.dataTransfer.dropEffect="move";return false}function e(d){C(this,"scrmr-over")}y()})(this,this.document);