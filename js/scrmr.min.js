(function(e,t,n){function y(e){return t.querySelectorAll(e)}function b(e,t,n){S(e,T,[t,n,true])}function w(e,t,n){S(e,T,[t,n])}function E(e,t,n){S(e,x,[t,n])}function S(e,t,n){if(e.length){for(var r=0,i=e.length;r<i;r++){n.unshift(e[r]);t.apply(this,n);n.shift()}}else{n.unshift(e);t.apply(this,n)}}function x(e,t,r){var i=e.className,s=i.replace(t,""),o=s+" "+t,u=i===s?o:s;e.className=r===n?u:r==="on"?o:s}function T(e,t,n,r){var i=(r?"add":"remove")+"EventListener",s=(r?"at":"de")+"tachEvent";if(e[i]){e[i](t,n,false)}else if(e[s]){e[s]("on"+t,n)}else{e["on"+t]=r?n:null}}function N(e,t){g.dragElement=e;g.dropTargets=y("*:not(#scrmr)");g.ondrag=t.ondrag;g.ondragend=t.ondragend;g.ondrop=t.ondrop;b(g.dragElement,"dragstart",C);b(g.dragElement,"drag",k);b(g.dragElement,"dragend",L);b(g.dropTargets,"dragover",O);b(g.dropTargets,"dragenter",M);b(g.dropTargets,"dragleave",M);b(g.dropTargets,"drop",A)}function C(t){t=t||e.event;this.style.opacity=0;t.dataTransfer.setData("stupidMozilla",this);t.dataTransfer.effectAllowed="move"}function k(t){t=t||e.event;if(typeof g.ondrag==="function"){g.ondrag(t)}}function L(t){t=t||e.event;w(g.dropTargets,"dragover",O);w(g.dropTargets,"dragenter",M);w(g.dropTargets,"dragleave",M);if(typeof g.ondragend==="function"){g.ondragend(t)}}function A(t){t=t||e.event;if(!g.inDrop&&typeof g.ondrop==="function"){g.inDrop=true;g.ondrop(t)}}function O(e){if(e.preventDefault){e.preventDefault()}e.dataTransfer.dropEffect="move";return false}function M(e){E(this,"scrmr-over")}this.Scrmr=this.Scrmr||{base:"//scrmr.lxgreen.me",css:"/css/scrmr.min.css",hand:"/img/hand.png",boo:"/img/scrmr.png",m4a:"/snd/scrmr.m4a",mp3:"/snd/scrmr.mp3",ogg:"/snd/scrmr.ogg",e:null,trigger:null,triggers:[]};Scrmr.url=function(e){return this.base+this[e]};Scrmr.ltIE9=function(){var e=document.createElement("div");e.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->";return e.getElementsByTagName("i").length===1}();Scrmr.getTriggers=function(e){this.e=e;this.triggers.push({value:"click",text:"ClIcK"});this.triggers.push({value:"mouseover",text:"HoVeR"});this.triggers.push({value:"scroll",text:"ScRolL"});this.triggers.push({value:"timer",text:"1 MIN."});switch(this.e.tagName.toLowerCase()){case"input":case"textarea":this.triggers.push({value:"keydown",text:"KeYs"});break;default:break}};var r=t.createElement("link"),i='<img draggable="false" src="'+Scrmr.url("hand")+'" class="scrmr-vanish"/><div id="scrmr-drag" draggable="true" class="scrmr-vanish"></div><label id="i"><b>I</b>DrAg DoWn</label><label id="ii" class="scrmr-clickable scrmr-disabled"><b>II</b><select id="trigger" disabled="true"><option style="visibility:hidden;">?????</option></select></label><label id="iii" class="scrmr-clickable scrmr-disabled"><b>III</b>Pr0fIt!</label><div id="scrmr-handle"></div>',s='<audio preload="auto"><source src="'+Scrmr.url("m4a")+'" type="audio/m4a" /><source src="'+Scrmr.url("mp3")+'" type="audio/mp3" /><source src="'+Scrmr.url("ogg")+'" type="audio/ogg"/></audio>',o=t.body,u=t.createElement("div"),a=t.createElement("div"),f,l,c,h,p,d,v,m,g={dropTargets:null,dragElement:null,ondrag:null,ondragend:null,ondrop:null};Scrmr.setup=function(){function S(){u.style.display="block";m.play()}a.innerHTML=i;a.id="scrmr";a.className="scrmr-hidden";r.href=Scrmr.url("css");r.rel="stylesheet";a.appendChild(r);o.appendChild(a);u.innerHTML=s;u.id="boo";o.appendChild(u);l=y("#scrmr-handle");c=y("#scrmr-drag");h=y("#i");p=y("#ii");d=y("#iii");a=y("#scrmr");v=y("#trigger");m=y("#boo audio")[0];f=y("#scrmr img")[0];f.draggable=false;f.unselectable=true;b(f,"dragstart",function(t){t=t||e.event;if(t.preventDefault){t.preventDefault()}return false});b(l,"click",function(){E(a,"scrmr-hidden")});b(v,"change",function(e){E(d,"scrmr-disabled","off");Scrmr.trigger=v[0].value});b(m,"ended",function(e){w(m,"ended");o.removeChild(a[0]);u.removeChild(m);o.removeChild(u);Scrmr=n;var t=y("head script[src*=scrmr]")[0];y("head")[0].removeChild(t)});b(d,"click",function(){if(Scrmr.e&&Scrmr.trigger){E(p,"scrmr-done");E(d,"scrmr-done");w(d,"click");v[0].disabled=true;switch(Scrmr.trigger){case"timer":setTimeout(function(){S()},60*1e3);break;case"scroll":b(t,"scroll",function(){w(t,"scroll");S()});b(Scrmr.e,"scroll",function(){w(Scrmr.e,"scroll");S()});break;default:b(Scrmr.e,Scrmr.trigger,function(t){t=t||e.event;if(t.preventDefault){t.preventDefault()}w(Scrmr.e,Scrmr.trigger);S();return false})}setTimeout(function(){E(a,"scrmr-hidden");setTimeout(function(){a[0].style.display="none"},400)},200)}});N(c[0],{ondrag:function(e){if(!g.moved){E(a,"scrmr-hidden");g.moved=true}},ondragend:function(e){E(a,"scrmr-hidden");E(h,"scrmr-done");E(p,"scrmr-disabled");E(g.dropTargets,"scrmr-over","off")},ondrop:function(e){Scrmr.getTriggers(e.target||e.srcElement);Scrmr.triggers.forEach(function(e){var n=t.createElement("option");n.value=e.value;n.innerHTML=e.text;v[0].appendChild(n)});v[0].disabled=false}});setTimeout(function(){E(a,"scrmr-hidden")},500)};setup()})(this,this.document);
